<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1">

{%- if request.page_type == 'index' -%}
    <title>Designer &amp; Purebred Puppies for Sale | Puppys R Us</title>
    <meta
        name="description"
        content="Puppys R Us works closely with responsible dog breeders to offer healthy designer &amp; purebred puppies for sale to loving homes. See our pups today!"
    >
    <meta name="image" content="https://dr9yafd9jyp80.cloudfront.net/pru/social-share-homepage.jpg">
    <meta property="og:title" content="Designer &amp; Purebred Puppies for Sale | Puppys R Us">
    <meta
        property="og:description"
        content="Puppys R Us works closely with responsible dog breeders to offer healthy designer &amp; purebred puppies for sale to loving homes. See our pups today!"
    >
    <meta property="og:image" content="https://dr9yafd9jyp80.cloudfront.net/pru/social-share-homepage.jpg">
    <meta property="og:url" content="https://puppysrus.com">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Designer &amp; Purebred Puppies for Sale | Puppys R Us">
    <meta name="twitter:url" content="https://puppysrus.com">
    <meta
        name="twitter:description"
        content="Puppys R Us works closely with responsible dog breeders to offer healthy designer &amp; purebred puppies for sale to loving homes. See our pups today!"
    >
    <meta name="twitter:image" content="https://dr9yafd9jyp80.cloudfront.net/pru/social-share-homepage.jpg">
    <meta name="twitter:creator" content="@puppysruswp">
    <link rel="canonical" href="{{ canonical_url }}">
{%- else -%}
    {%- liquid
        comment
            SEO defaults with fallback logic:
            - If page_title is captured in the section, use it as-is (already includes branding if needed)
            - Otherwise, use page.title and append "Puppys R Us"
            - For description: use page_description if captured, otherwise page.description, then shop.description
            - Special handling for specific templates (travel page, learning center, etc.)
        endcomment
        
        comment
          Travel page hardcoded SEO overrides (template-level)
        endcomment
        if template.name == 'page.travel'
            assign base_title = 'Puppy Travel & Delivery Options | Nationwide Shipping | Puppys R Us'
            assign base_description = 'From local pickup to nationwide home delivery, discover how your puppy travels safely with climate-controlled transport, experienced handlers, and real-time updates.'
        elsif page_title and page_title != ''
            assign base_title = page_title
            assign base_description = page_description | default: page.description | default: shop.description | default: shop.name
        elsif page
            assign base_title = page.title | append: ' - Puppys R Us'
            assign base_description = page.description | default: shop.description | default: shop.name
        else
            assign base_title = shop.name
            assign base_description = shop.description | default: shop.name
        endif

        comment
            Homepage SEO overrides (set in settings) – only applied on index template
        endcomment
        if template.name == 'index'
            if settings.home_meta_title and settings.home_meta_title != ''
                assign base_title = settings.home_meta_title
            endif
            if settings.home_meta_description and settings.home_meta_description != ''
                assign base_description = settings.home_meta_description
            endif
        endif

        comment
            Product page dynamic SEO overrides
            Pattern (Title):  Buy a <sex> <Primary Collection Title> Puppy - Designer & Purebred Puppies for Sale
            Pattern (Description): Take home <Product Title>, or any of the other <Primary Collection Title> puppies. Puppys R Us works closely with responsible dog breeders to offer healthy designer & purebred puppies for sale to loving homes.
        endcomment
        if request.page_type == 'product' and product
            assign primary_collection = product.collections.first
            assign product_sex = product.metafields.custom.sex.value | default: ''
            if product_sex != '' and primary_collection
                assign base_title = 'Buy a ' | append: product_sex | append: ' ' | append: primary_collection.title | append: ' Puppy - Designer & Purebred Puppies for Sale'
            elsif primary_collection
                assign base_title = 'Buy a ' | append: primary_collection.title | append: ' Puppy - Designer & Purebred Puppies for Sale'
            endif

            if primary_collection
                assign base_description = 'Take home ' | append: product.title | append: ', or any of the other ' | append: primary_collection.title | append: ' puppies. Puppys R Us works closely with responsible dog breeders to offer healthy designer & purebred puppies for sale to loving homes.'
            else
                assign base_description = 'Take home ' | append: product.title | append: '. Puppys R Us works closely with responsible dog breeders to offer healthy designer & purebred puppies for sale to loving homes.'
            endif
        endif

        comment
            Collection page dynamic SEO overrides
            Pattern (Title): <Collection Title> Puppies for Sale | Buy a <Collection Title> Puppy Online Today
            Pattern (Description): Check out our available <Collection Title> puppies for sale right now...
        endcomment
        if request.page_type == 'collection' and collection
            if collection.title == 'All' or collection.title == 'Home Page' or collection.title == 'all' or collection.title == 'Products'
                assign base_title = 'Adorable Puppies for Sale | Find Your Perfect Puppy Companion Today'
                assign base_description = 'Browse our adorable puppies for sale right now. Healthy, happy, well-socialized puppies from trusted breeders—find the perfect addition to your family today!'
            else
                assign base_title = collection.title | append: ' Puppies for Sale | Buy a ' | append: collection.title | append: ' Puppy Online Today'
                assign base_description = 'Check out our available ' | append: collection.title | append: ' puppies for sale right now. Buy from trusted breeders, with a health guarantee. Come find the perfect addition to your family!'
            endif
        endif

        assign og_title = base_title
        assign og_url = canonical_url | default: request.origin
        assign og_type = 'website'
        assign og_description = base_description

        if request.page_type == 'product'
            assign og_type = 'product'
        elsif request.page_type == 'article'
            assign og_type = 'article'
        elsif request.page_type == 'password'
            assign og_url = request.origin
        endif
    -%}

    <meta
        property="og:site_name"
        content="{{ shop.name }}"
    >
    <meta
        property="og:url"
        content="{{ og_url }}"
    >
    <meta
        property="og:title"
        content="{{ og_title | escape }}"
    >
    <meta
        property="og:type"
        content="{{ og_type }}"
    >
    <meta
        property="og:description"
        content="{{ og_description | escape }}"
    >

    {%- if page_image -%}
        <meta
            property="og:image"
            content="http:{{ page_image | image_url }}"
        >
        <meta
            property="og:image:secure_url"
            content="https:{{ page_image | image_url }}"
        >
        <meta
            property="og:image:width"
            content="{{ page_image.width }}"
        >
        <meta
            property="og:image:height"
            content="{{ page_image.height }}"
        >
    {%- endif -%}

    {%- if request.page_type == 'product' -%}
        <script type="application/ld+json">
            {{ product | structured_data }}
        </script>

        <meta
            property="og:price:amount"
            content="{{ product.price | money_without_currency | strip_html }}"
        >
        <meta
            property="og:price:currency"
            content="{{ cart.currency.iso_code }}"
        >
    {%- endif -%}

    <meta
        name="twitter:card"
        content="summary_large_image"
    >
    <meta
        name="twitter:title"
        content="{{ og_title | escape }}"
    >
    <meta
        name="twitter:description"
        content="{{ og_description | escape }}"
    >

    <title>
        {{ base_title }}
        {%- if current_tags %}&ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
        {%- if current_page != 1 %}&ndash; Page {{ current_page }}{% endif -%}
        {%- unless base_title contains shop.name %}&ndash; {{ shop.name }}{% endunless -%}
    </title>

    <link
        rel="canonical"
        href="{{ canonical_url }}"
    >

    {% if base_description %}
        <meta
            name="description"
            content="{{ base_description | escape }}"
        >
    {% endif %}
{%- endif -%}
