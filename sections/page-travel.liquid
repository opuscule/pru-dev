<section class="w-full bg-bg-extralight pt-8">
    <div class="rounded-top-left w-full bg-bg-light rounded-none rounded-tl-[12.5vw] py-16 ms-[4vw]" style="padding-bottom: 200px; margin-bottom: -200px;">
        <div class="max-w-[var(--width-container-content)] mx-auto">
            <h1 class="text-center font-bold mb-8 text-4xl sm:text-5xl md:text-6xl lg:text-7xl 2xl:text-8xl">Travel</h1>




            <!-- Vertical accordion -->
            <div class="mt-16">
                <!-- Heading group -->
                <p class="text-sm tracking-wide uppercase text-[var(--color-body-copy)]/70">Tagline</p>
                <h2 class="font-titles font-bold text-4xl sm:text-5xl md:text-6xl leading-tight mt-1">Puppy Travel &amp; Delivery Options</h2>
                <p class="mt-3 text-base md:text-lg text-[var(--color-body-copy)] max-w-3xl">At Puppys R Us, we prioritize the safe and comfortable transition of your new puppy into your home. We offer flexible delivery and pickup options to suit your preferences and ensure a seamless experience.</p>
                <style>
                    .slider-wrap {
                        width: 100%;
                        /* height: 400px; */ /* REMOVED */
                        background: transparent;
                        position: relative;
                        overflow: hidden;
                        border-radius: 20px;
                        border: 1px solid rgba(0,0,0,0.1);
                        transition: height .4s ease-in-out; /* ADDED */
                    }
                    .slider-wrap .slider {
                        position: absolute;
                        top: 0;
                        display: flex;
                        height: 100%;
                        background: #fafafa;
                        transition: all .4s ease-in-out;
                    }
                    .slider-wrap .slider .index {
                        width: 50px;
                        height: 100%;
                        color: #fff;
                        font-weight: bold;
                        border-right: 1px solid rgba(0,0,0,0.1);
                        background: #f1f1f1;
                        cursor: pointer;
                        display: grid;
                        place-items: flex-end;
                        color: #333;
                    }
                    .slider-wrap .slider.current .index {
                        background: #e0e0e0;
                    }
                    .slider-wrap .slider .index span {
                        writing-mode: vertical-rl;
                        transform: rotate(180deg);
                    }
                    .slider-wrap .slider .delivery_content {
                        width: calc(100% - 50px);
                        overflow: hidden;
                        opacity: 0;
                        transition: opacity .3s ease-in-out;
                    }
                    .slider-wrap .slider.current .delivery_content {
                        opacity: 1;
                    }
                </style>

                <div class="wrapper">
                    <div class="slider-wrap">
                        <div class="slider current">
                            <button class="index"><span>Local Pickup</span></button>
                            <figure class="delivery_content">
                                <h3>Local Pickup &mdash; Meet Your Breeder</h3>
                                <ul>
                                    <li>Ideal for customers within driving distance of our breeders.</li>
                                    <li><strong>Convenient Meeting Locations:</strong> Arrange a meeting spot with the breeder at a public location.</li>
                                    <li><strong>No Additional Cost:</strong> Pickup is free.</li>
                                    <li><strong>Personalized Introduction:</strong> Meet your puppy in person and receive guidance on care and transition.</li>
                                </ul>
                                <img src="https://cdn.shopify.com/s/files/1/0603/0471/9957/files/puppy-travel-1.webp?v=1760372706" alt="Local Pickup" width="800" height="400" />
                            </figure>
                        </div>
                        <div class="slider">
                            <button class="index"><span>Home Delivery</span></button>
                            <figure class="delivery_content">
                                <h3>Home Delivery &mdash; Right to Your Doorstep</h3>
                                <p>Content for home delivery.</p>
                            </figure>
                        </div>
                        <div class="slider">
                            <button class="index"><span>Delivery Near Your Home</span></button>
                            <figure class="delivery_content">
                                <h3>Delivery Near Your Home &mdash; Convenient &amp; Safe</h3>
                                <p>Content for delivery near your home.</p>
                            </figure>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const $sliderWrap = $('.slider-wrap');
    if (!$sliderWrap.length) return;

    const $sliders = $sliderWrap.find('.slider');
    const sliderCount = $sliders.length;
    const indexWidth = 50;
    const duration = 400;
    let sliderWrapWidth = $sliderWrap.width();

    function setSliderPositions(animate = false) {
        sliderWrapWidth = $sliderWrap.width();
        let currentIdx = $sliders.filter('.current').index();
        if (currentIdx === -1) {
            currentIdx = 0;
            $sliders.eq(0).addClass('current');
        }

        // Adjust container height to match current slide's content
        const $currentContent = $sliders.eq(currentIdx).find('.img');
        if ($currentContent.length) {
            const contentHeight = $currentContent[0].scrollHeight;
            $sliderWrap.css('height', contentHeight + 'px');
        }

        $sliders.each(function(i) {
            const $slider = $(this);
            let targetLeft, targetWidth;

            if (i < currentIdx) {
                targetLeft = i * indexWidth;
                targetWidth = indexWidth;
            } else if (i === currentIdx) {
                targetLeft = i * indexWidth;
                targetWidth = sliderWrapWidth - (i * indexWidth) - ((sliderCount - 1 - i) * indexWidth);
            } else { // i > currentIdx
                targetLeft = sliderWrapWidth - ((sliderCount - i) * indexWidth);
                targetWidth = indexWidth;
            }
            
            if (animate) {
                $slider.stop().animate({ left: targetLeft, width: targetWidth }, duration, 'swing');
            } else {
                $slider.css({ left: targetLeft, width: targetWidth });
            }
        });
    }

    $sliderWrap.on('click', '.index', function() {
        const $clickedSlider = $(this).closest('.slider');
        if ($clickedSlider.hasClass('current')) {
            return;
        }
        $sliders.removeClass('current');
        $clickedSlider.addClass('current');
        setSliderPositions(true);
    });

    $(window).on('resize', function() {
        setSliderPositions(false);
    });

    // A short delay to help ensure images are loaded before calculating height
    setTimeout(function() {
        setSliderPositions(false);
    }, 100);
});
</script>

{% schema %}
{
  "name": "Travel Page",
  "settings": []
}
{% endschema %}
