{% comment %}
  This section is used in the cart template to render /cart page with an
  overview of the items in customer's cart.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/cart
{% endcomment %}


<section class="w-full bg-bg-extralight pt-8">

  <div class="rounded-top-left w-full bg-bg-light rounded-none rounded-tl-[12.5vw] py-16 ms-[4vw]" style="padding-bottom: 200px; margin-bottom: -200px;">
  
    <div class="max-w-[var(--width-container-content)] mx-auto">


      <h1 class="text-center font-bold mb-8 text-4xl sm:text-5xl md:text-6xl lg:text-7xl 2xl:text-8xl">{{ 'cart.title' | t }}</h1>

      <form action="{{ routes.cart_url }}" method="post">
        
          {% for item in cart.items %}

          <!-- Cart row wrapper: 3 columns on md+, stacked on mobile -->
          <div class="grid grid-cols-1 md:grid-cols-[175px_1fr_auto] gap-6 items-start py-6 border-b border-black/10">

            <!-- 1st column: image -->
            <div class="w-full max-w-full md:max-w-[175px] overflow-hidden rounded-[1.25rem] shadow-[-8px_8px_0_0_var(--color-primary)]">
              {% render 'image', image: item.image, url: item.url %}
            </div>
            
            <!-- 2nd column: details -->
            <div class="space-y-1 title-here">
            {% assign dob_val = item.product.metafields.custom.dob.value %}
            {% assign dob_ts = dob_val | date: "%s" | plus: 0 %}
            {% assign now_ts = 'now' | date: "%s" | plus: 0 %}
            {% assign diff_seconds = now_ts | minus: dob_ts %}
                  {% assign weeks_old = diff_seconds | divided_by: 604800 %}

            <code>#{{ item.sku }}</code>

            <h2 class="font-bold text-4xl">{{ item.product.title }}</h2>
            <p>{{ item.product.collections.first.title }}</p>
            <p>{{ item.product.metafields.custom.sex }} - {{ weeks_old | floor }} Weeks Old</p>
            </div>

            <!-- 3rd column: price, remove -->
            <div class="text-left md:text-right space-y-3">
              <div class="font-semibold">{{ item.line_price | money }}</div>
              <div>{{ 'cart.remove' | t | link_to: item.url_to_remove }}</div>
            </div>
          </div>
          {% endfor %}


        <input type="submit" name="checkout" value="{{ 'cart.checkout' | t }}">
      </form>
    </div>
  </div>
</section>
{% schema %}
{
  "name": "t:general.cart",
  "settings": []
}
{% endschema %}
